<div class="container mt-5">
  <mat-card class="shadow-lg">
    <mat-card-header class="mb-4">
      <mat-card-title class="text-white bg-primary p-3 text-center">
        Create New Post
      </mat-card-title>
    </mat-card-header>

    <mat-card-content class="p-4">
      <form (ngSubmit)="onSubmit()">
        <!-- Post Title -->
        <div class="form-group mb-4">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Post Title</mat-label>
            <input
              matInput
              type="text"
              id="title"
              [(ngModel)]="post.title"
              name="title"
              placeholder="Enter post title"
              required
            />
          </mat-form-field>
        </div>

        <!-- Post Body -->
        <div class="form-group mb-4">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Post Body</mat-label>
            <textarea
              matInput
              id="body"
              [(ngModel)]="post.body"
              name="body"
              placeholder="Enter post body"
              rows="5"
              required
            >
            </textarea>
          </mat-form-field>
        </div>

        <!-- Image Upload -->
        <div class="form-group mb-4">
          <label for="image" class="form-label">Upload Image (Optional)</label>
          <input
            type="file"
            class="form-control"
            (change)="uploadImg($event)"
          />
        </div>

        <!-- Image Preview -->
        <div class="form-group mb-4" *ngIf="myImg">
          <label>Image Preview:</label>
          <div class="border p-2">
            <img [src]="myImg" alt="Preview" class="img-fluid" />
          </div>
        </div>

        <!-- Submit Button -->
        <button mat-raised-button color="primary" class="w-100 py-2">
          Create Post
        </button>
      </form>
    </mat-card-content>
  </mat-card>

  <!-- Display confirmation of the created post -->
  <div *ngIf="submitted" class="alert alert-success mt-4">
    <h4 class="alert-heading">Post Created Successfully!</h4>
    <p><strong>Title:</strong> {{ post.title }}</p>
    <p><strong>Body:</strong> {{ post.body }}</p>
    <p *ngIf="post.image"><strong>Image URL:</strong> {{ post.image }}</p>
  </div>
</div>
